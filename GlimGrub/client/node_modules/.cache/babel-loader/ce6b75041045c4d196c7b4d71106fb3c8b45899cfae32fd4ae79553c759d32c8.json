{"ast":null,"code":"const login = async (ssn, password) => {\n  setIsLoading(true);\n  setError(null);\n  const response = await fetch(\"/api/users/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      ssn,\n      password\n    })\n  });\n  const json = await response.json();\n  if (!response.ok) {\n    setIsLoading(false);\n    setError(json.error);\n    return false;\n  }\n  if (response.ok) {\n    dispatch({\n      type: \"LOGIN\",\n      payload: json\n    });\n    setIsLoading(false);\n    return true;\n  }\n};","map":{"version":3,"names":["login","ssn","password","setIsLoading","setError","response","fetch","method","headers","body","JSON","stringify","json","ok","error","dispatch","type","payload"],"sources":["/Users/veronicaselenwall/Documents/Plugget 2023/case11/Examensprojekt/GlimCrub/client/src/hooks/useLogin.jsx"],"sourcesContent":["const login = async (ssn, password) => {\n  setIsLoading(true);\n  setError(null);\n\n  const response = await fetch(\"/api/users/login\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ ssn, password }),\n  });\n  const json = await response.json();\n\n  if (!response.ok) {\n    setIsLoading(false);\n    setError(json.error);\n    return false;\n  }\n  if (response.ok) {\n    dispatch({ type: \"LOGIN\", payload: json });\n    setIsLoading(false);\n    return true;\n  }\n};\n"],"mappings":"AAAA,MAAMA,KAAK,GAAG,MAAAA,CAAOC,GAAG,EAAEC,QAAQ,KAAK;EACrCC,YAAY,CAAC,IAAI,CAAC;EAClBC,QAAQ,CAAC,IAAI,CAAC;EAEd,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,kBAAkB,EAAE;IAC/CC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEV,GAAG;MAAEC;IAAS,CAAC;EACxC,CAAC,CAAC;EACF,MAAMU,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAI,EAAE;EAElC,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;IAChBV,YAAY,CAAC,KAAK,CAAC;IACnBC,QAAQ,CAACQ,IAAI,CAACE,KAAK,CAAC;IACpB,OAAO,KAAK;EACd;EACA,IAAIT,QAAQ,CAACQ,EAAE,EAAE;IACfE,QAAQ,CAAC;MAAEC,IAAI,EAAE,OAAO;MAAEC,OAAO,EAAEL;IAAK,CAAC,CAAC;IAC1CT,YAAY,CAAC,KAAK,CAAC;IACnB,OAAO,IAAI;EACb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}